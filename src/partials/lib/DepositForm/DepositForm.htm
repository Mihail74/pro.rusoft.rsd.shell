<md-card class="root partials-deposit-form">

    <md-card-media-cover>
        <md-card-media md-ratio="16:9">
          <img :src="project.thumbnail.url">
        </md-card-media>
    
        <md-card-area>
          <md-card-header>
            <div class="md-title">{{ project.name }}</div>
            <div class="md-subhead">Цель: {{ targetValue }}</div>
          </md-card-header>
        </md-card-area>
      </md-card-media-cover>

  <md-card-content class="address-balance">
    <div>Баланс кошелька:</div>
    <address-balance class="balance" :address="user.investingWallet.address" :isAddressVisible="false"/>
  </md-card-content>
  <md-card-content>
    <form novalidate @submit.prevent="$v.$touch(); !$v.$invalid && support()">
      <md-input-container :class="{'md-input-invalid': $v.value.$error}">
        <label>Сумма</label>
        <md-input type="number" v-model="value" @input="$v.value.$touch()"></md-input>
        <span v-if="$v.value.$error && !$v.value.required" class="md-error">Обязательно для заполнения</span>
        <span v-if="$v.value.$error && !$v.value.minValue" class="md-error">Сумма должна быть не меньше {{ $v.value.$params.minValue.min }}</span>
      </md-input-container>
      <md-input-container :class="{'md-input-invalid': $v.mnemonic.$error}">
        <label>mnemonic-ключ</label>
        <md-input v-model="mnemonic" @input="$v.mnemonic.$touch()"></md-input>
        <span v-if="$v.mnemonic.$error && !$v.mnemonic.required" class="md-error">Обязательно для заполнения</span>
        <span v-else-if="!$v.mnemonic.mnemonic" class="md-error">Некорретный mnemonic-ключ</span>
      </md-input-container>
      <span v-if="!isSignCorrect" class="md-caption">Некорректная подпись. Неправильный mnemonic-ключ?</span>
      <span v-else-if="isError" class="md-caption">Ошибка отправки. Попробуйте снова.</span>
      <md-button class="md-raised md-primary" :disabled="$v.$invalid || isSending" type="submit">
        <div v-if="!isSending">Перечислить</div>
        <md-spinner v-else md-indeterminate :md-size="24"></md-spinner>
      </md-button>
    </form>
  </md-card-content>
</md-card>
